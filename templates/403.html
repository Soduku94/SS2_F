{# templates/403.html #}
{% extends "base.html" %}

{% block title %}{{ title if title else "Access Forbidden (403)" }}{% endblock %}

{% block content %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center text-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-sm border-danger"> {# Thêm border-danger để nhấn mạnh #}
                <div class="card-body p-4 p-md-5">
                    <i class="bi bi-shield-lock-fill text-danger" style="font-size: 4rem;"></i>
                    {# Hoặc dùng bi-sign-stop-fill, bi-slash-circle-fill #}
                    
                    <h1 class="display-4 fw-bold text-danger mt-3">403</h1>
                    <h2 class="mb-3">Access Forbidden</h2>
                    
                    <p class="lead mb-4">
                        Sorry, you do not have the necessary permissions to access this page or resource.
                    </p>
                    
                    <p class="text-muted mb-4">
                        This might be because the page is restricted to certain user roles (e.g., Administrators or Lecturers),
                        or you are trying to access content that does not belong to you.
                    </p>
                    
                    {% if current_user.is_authenticated %}
                        <a href="{{ url_for('dashboard') }}" class="btn btn-fit-primary btn-lg mt-3">
                            <i class="bi bi-house-door-fill me-2"></i>Return to Dashboard
                        </a>
                        <p class="mt-3 mb-0">
                            <small class="text-muted">If you believe this is an error, please contact the site administrator.</small>
                        </p>
                    {% else %}
                        <p class="mb-3">
                            You might need to log in with an account that has the appropriate permissions.
                        </p>
                        <a href="{{ url_for('login', next=request.path) }}" class="btn btn-fit-primary btn-lg mt-3">
                            <i class="bi bi-box-arrow-in-right me-2"></i>Go to Login Page
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}